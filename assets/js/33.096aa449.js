(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{206:function(e,t,s){"use strict";s.r(t);var n=s(0),a=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"working-with-plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#working-with-plugins","aria-hidden":"true"}},[e._v("#")]),e._v(" Working with plugins")]),e._v(" "),s("p",[e._v("If you want to register Vue plugin in Vue Storefront the right place to do this is your theme entry "),s("code",[e._v("{theme}/index.js")]),e._v(".")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// {theme}/index.js")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" SomePlugin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'some-plugin'")]),e._v("\n\nVue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("SomePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),s("h2",{attrs:{id:"dealing-with-server-side-code"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dealing-with-server-side-code","aria-hidden":"true"}},[e._v("#")]),e._v(" Dealing with server side code")]),e._v(" "),s("p",[e._v("Vue Storefront code is actually executed two times - once on the server side to generate SSR page and then on a client side. A majority of Vue plugins is ui-specific and relies on "),s("code",[e._v("window")]),e._v(" object that doesn't exist on the server side.")]),e._v(" "),s("p",[e._v("To make sure your plugin is registered only on client side you can use "),s("code",[e._v("isServer")]),e._v(" helper.")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" isServer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'@vue-storefront/core/helpers'")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" SomePlugin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'some-plugin'")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("if")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v("isServer "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" Vue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("SomePlugin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])])])}],!1,null,null,null);a.options.__file="plugins.md";t.default=a.exports}}]);